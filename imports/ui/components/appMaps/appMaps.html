<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<form>

<app-maps ng-if= "appMaps.isLoggedIn"> </app-maps>

<div style="float: left; position: relative; padding-top: 150px;">
  <div ng-hide = "appMaps.isLoggedIn">
    Please Log into FoodHero or Create a New Account!
  </div>

  <button ng-click="appMaps.showShoppingLists()" ng-show="appMaps.isLoggedIn" class = "btn btn-success"> Display Shopping Lists</button>

  <button ng-click="appMaps.showFavStores()" ng-show="appMaps.isLoggedIn" class = "btn btn-success"> Display Fav Stores</button>

  <button ng-click="appMaps.showFavItems()" ng-show="appMaps.isLoggedIn" ng-show="appMaps.isLoggedIn" class = "btn btn-success"> Display Fav Items</button>

  <div ng-hide = "appMaps.showMeShoppingLists"> </div>

  <div ng-show = "appMaps.showMeShoppingLists">

    <ul class="nav nav-tabs">
      <li class="active"><a data-toggle="tab" href="#shoppingList1">Shopping List 1</a></li>
</ul>

<div class="tab-content">
  <div id="shoppingList1" class="tab-pane fade in active">
    <h3>Shopping List 1</h3>
    <ul>
     <li ng-repeat="item in appMaps.shoppingList">
      {{item.name}}
    </li>
  </ul>
</div>

</div>

</div>

<div ng-show = "appMaps.showMeFavStores">
  <h3>Favourite Stores</h3>
  <ul>
   <li ng-repeat="store in appMaps.favStores">
    {{store.code}}
    {{store.franchise}}
  </li>
</ul>
</div>

<div ng-show = "appMaps.showMeFavItems">
  <h3>Favourite Items</h3>
  <ul>
   <li ng-repeat="item in appMaps.favItems">
    {{item.name}}
  </li>
</ul>
</div>
</div>

	<div style="float: left; margin: 0; width: 1200px">
		<div id="map-canvas" > 	

			<br>
			<div style="width: 500px">
				<input type = "text" ng-model = "appMaps.searchText" class = "form-control" placeholder = "Search for item name or store postal code" ng-change = "appMaps.change()">
			</div>
			<br>

			<ul ng-show = "appMaps.showMe">
				<li ng-repeat="item in appMaps.items">
					{{item.code}}
					{{item.franchise}}
					{{item.name}}
				</li>
			</ul>

			<button ng-click = "appMaps.addItemToFavs()" class = "btn btn-success"> Add Item to Favourites</button>
			<button ng-click = "appMaps.addToShoppingList()" class = "btn btn-success"> Add Item to Shopping List</button>
			<button ng-click = "appMaps.addStoreToFavs()" class = "btn btn-success"> Add Store to Favourites</button>
			<button ng-click = "appMaps.getPrice()" class = "btn btn-success">Get Best Price</button>
			<br>

			<script id="searchBoxUserLocation.tpl.html" type="text/ng-template">
				<input type="text" placeholder="User Location">
			</script>

			<script id="mapSearchBox.tpl.html" type="text/ng-template">
				<input type="text" placeholder="Favourite Stores">
			</script>

			<div style="float: left" ng-repeat="stores in allFranchisesInSmartCart"> 
				<input type="checkbox" value="{{stores}}" check-list='checked_stores'> {{stores}} 
			</div>

			<div style="clear: left"> The following stores are checked: {{checked_stores | json}} </div>

			<input id="maxDistance" type="text" class="controls" placeholder="Max Distance (km)" ng-model="maxDistance" ng-change=maxDistanceChanged()>
			<p> Max Distance: {{maxDistance}}</p>

			<div>
				<br>
				<ui-gmap-google-map center="map.center" zoom="map.zoom" bounds="map.bounds" events="map.events" options="map.options" draggable="true" >

					<ui-gmap-markers  models="mapMarkers" coords="'self'" icon="'icon'" click="onClick" fit="true"> 
						<ui-gmap-window coords="activeModel" options="windowOptions" show="activeModel.show" ng-cloak>
							<p> <strong> Name: {{fullName}} </strong> </br> 
								{{fullAddress}} PostalCode: {{PostalCode}}</br>
								<button ng-click='$parent.favouritesButtonClicked()'> Add To Favourites </button>
								<!--<button ng-click='$parent.databaseButtonClicked()''> Add To Database </button>-->
							</p>s
						</ui-gmap-window>
					</ui-gmap-markers>

				<!--<ui-gmap-markers models="userLocationMarker" coords="'self'" icon="'icon'" fit="true"> </ui-gmap-markers>
				<ui-gmap-markers models="existingStoreMarkers" coords="'self'" icon="'icon'" fit="true"></ui-gmap-markers>-->

				<ui-gmap-search-box options="searchBoxUserLocation.options" template="searchBoxUserLocation.template" events="searchBoxUserLocation.events" ng-model="searchModel.searchTerm"></ui-gmap-search-box>

				<ui-gmap-search-box options="mapSearchBox.options" template="mapSearchBox.template" events="mapSearchBox.events" bounds="mapSearchBox.bounds" ></ui-gmap-search-box> 
			</ui-gmap-google-map>
		</div>
	</div>
</div>
</form>